<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Override Train Status</title>
  <style>
    <style>
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px 12px;
      text-align: left;
    }
    th {
      background-color: #f2f2f2;
    }
    tr:nth-child(even) {
      background-color: #fafafa;
    }
    form button {
      padding: 5px 10px;
      background-color: #1976d2;
      color: #fff;
      border: none;
      border-radius: 3px;
      cursor: pointer;
    }
    form button:hover {
      background-color: #1565c0;
    }
    select {
      padding: 4px;
      border-radius: 3px;
      border: 1px solid #ccc;
    }
  </style>

  </style>
</head>
<body>
<h1>Override Train Status</h1>

<!-- Table of existing statuses with status change form per row -->
<h2>Existing Status Updates</h2>
<table>
  <thead>
  <tr>
    <th>Status ID</th>
    <th>Train Route</th>
    <th>Stop</th>
    <th>Status</th>
    <th>Timestamp</th>
    <th>Change Status</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="status : ${statuses}">
    <td th:text="${status.statusId}"></td>
    <td th:text="${status.routeName}"></td>
    <td th:text="${status.stopName}"></td>
    <td th:text="${status.status}"></td>
    <td th:text="${status.timestamp}"></td>
    <td>
      <form th:action="@{/train-status/override}" method="post">
        <input type="hidden" name="statusId" th:value="${status.statusId}" />
        <select name="status" required>
          <option th:selected="${status.status == 'ON_TIME'}" value="ON_TIME">On Time</option>
          <option th:selected="${status.status == 'DELAYED'}" value="DELAYED">Delayed</option>
          <option th:selected="${status.status == 'CANCELLED'}" value="CANCELLED">Cancelled</option>
        </select>
        <button type="submit">Update</button>
      </form>
    </td>
  </tr>
  </tbody>
</table>

</body>
</html>
